# ================================================================================================
#  workshop
#  Copyright (C) 2022 Tim Leonard
# ================================================================================================
# This file just contains commonly used structures which are generic to specific shaders.
# ================================================================================================
type: shader
version: 1

render_states:
  # Default render state but without depth testing enabled. Useful
  # for things such as fullscreen passes.
  no_depth_test:
    depth_test_enabled: false

vertex_layouts:
  # Simple layout that contains only vert position and uv. Useful
  # for things like fullscreen passes.
  vertex2d_pos_uv:
    position: float2
    uv: float2

output_targets:
  # Main gbuffer target with all MRT targets.
  gbuffer:
    color: [ R16G16B16A16_UNORM, R16G16B16A16_FLOAT, R16G16B16A16_FLOAT ]
    depth: D24_UNORM_S8_UINT
  # Swapchain output target.
  swapchain:
    color: [ R8G8B8A8_UNORM ]

param_blocks:
  # Contains all the parameters needed to read/write from the gbuffer.
  gbuffer:
    scope: global
    fields:
      gbuffer0_texture: texture2d
      gbuffer1_texture: texture2d
      gbuffer2_texture: texture2d
      gbuffer_sampler: sampler
  # Describes the projection information for the view being rendered.
  view_state:
    scope: global
    fields:
      view_projection: float4x4