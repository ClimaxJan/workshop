render_batch
    -> effect
    -> param block instances
    -> bound vertex buffers
    -> draw calls


each render pass generates a set of batches


struct render_batch
{
    pipeline;
    param_blocks;
    vertex_buffer;
    index_buffer;

    instance_count;            
};

struct render_pass
{
    void create_batches(batch_collection& batches);
};


graphics_system creates passes
passes create batches in parallel
renderer then transcribes batches to command lines in parallel
renderer then dispatches command lines.

-> 
